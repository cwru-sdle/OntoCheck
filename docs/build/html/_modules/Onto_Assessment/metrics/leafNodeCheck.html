<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Onto_Assessment.metrics.leafNodeCheck &mdash; Ontology Assessment 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=86f27845" />

  
  
        <script src="../../../_static/jquery.js?v=8dae8fb0"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=d45e8c67"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Ontology Assessment
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">Metrics</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Ontology Assessment</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">Onto_Assessment.metrics.leafNodeCheck</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for Onto_Assessment.metrics.leafNodeCheck</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">..helpers.helpers</span> <span class="kn">import</span> <span class="n">_find_leaf_nodes</span>
<span class="kn">from</span> <span class="nn">rdflib</span> <span class="kn">import</span> <span class="n">Graph</span><span class="p">,</span> <span class="n">RDFS</span><span class="p">,</span> <span class="n">RDF</span><span class="p">,</span> <span class="n">OWL</span><span class="p">,</span> <span class="n">SKOS</span>
<span class="kn">import</span> <span class="nn">argparse</span>

<div class="viewcode-block" id="mainLeafNodeCheck_v_0_0_1">
<a class="viewcode-back" href="../../../modules.html#Onto_Assessment.metrics.mainLeafNodeCheck_v_0_0_1">[docs]</a>
<span class="k">def</span> <span class="nf">mainLeafNodeCheck_v_0_0_1</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Ontology Leaf Node Analysis</span>

<span class="sd">    Analyze an OWL ontology in Turtle (ttl) format and identify all leaf nodes in the class hierarchy. Leaf nodes are classes that have no subclasses, representing the most specific classes in the ontology</span>

<span class="sd">    This main function parses command-line arguments, loads an ontology file, identifies all declared classes, and determines which classes are leaf nodes by finding classes that are never used as superclasses</span>

<span class="sd">    Definitions</span>
<span class="sd">    -----------</span>
<span class="sd">    - Leaf nodes: Classes that have no subclasses, meaning they do not appear as objects in rdfs:subClassOf relationships (or skos:broader)</span>
<span class="sd">    </span>
<span class="sd">    - Declared classes: Classes explicitly declared with rdf:type owl:Class or rdfs:Class</span>

<span class="sd">    - Hierarchy detection: Uses rdfs:subClassOf relationships to determine class hierarchy (also skos:broader)</span>

<span class="sd">    Author: Rishabh Kundu</span>
<span class="sd">    Version: 0.0.1</span>

<span class="sd">    Command Line Arguments</span>
<span class="sd">    ---------------------</span>
<span class="sd">    ttl_file : str (positional)</span>
<span class="sd">        Path to the ontology Turtle (.ttl) file to analyze</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>
<span class="sd">        This function does not (directly) return values. It prints analysis results to terminal/CLI</span>
<span class="sd">        The function may exit early on errors (file not found, parsing errors, or no leaf nodes found)</span>

<span class="sd">    Output Information</span>
<span class="sd">    -----------------</span>
<span class="sd">    When executed successfully, the analysis provides:</span>
<span class="sd">    - Total number of leaf nodes found</span>
<span class="sd">    - Complete list of leaf nodes with their prefixed names (sorted alphabetically)</span>

<span class="sd">    Error Handling</span>
<span class="sd">    -------------</span>
<span class="sd">    The function handles several error conditions:</span>
<span class="sd">    - FileNotFoundError: When the specified TTL file cannot be found</span>
<span class="sd">    - Parsing errors: When the TTL file cannot be parsed as valid Turtle</span>
<span class="sd">    - Empty results: When no leaf nodes are found in the ontology</span>

<span class="sd">    Notes</span>
<span class="sd">    -----</span>
<span class="sd">    - Only considers explicitly declared classes (rdf:type owl:Class or rdfs:Class)</span>
<span class="sd">    - Uses namespace manager for clean URI representation in output</span>
<span class="sd">    - Leaf nodes are sorted alphabetically for consistent display</span>
<span class="sd">    - Coverage statistics may be implemented in future versions</span>

<span class="sd">    LLM Usage Declaration</span>
<span class="sd">    ---------------------</span>

<span class="sd">    - Claude AI (Sonnet 4) was employed chiefly to support documentation efforts</span>

<span class="sd">    References</span>
<span class="sd">    ----------</span>

<span class="sd">    - Mc Gurk, S., Abela, C., &amp; Debattista, J. (2017). Towards ontology quality assessment. 4th Workshop on Linked Data Quality (LDQ2017), co-located with the 14th Extended Semantic Web Conference (ESWC), Portoro≈æ, 94-106.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    Basic usage:</span>
<span class="sd">        python script.py ontology.ttl</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Finds all leaf nodes in a .ttl ontology and checks for subclasses and instances.&quot;</span>
    <span class="p">)</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span>
        <span class="s2">&quot;ttl_file&quot;</span><span class="p">,</span> 
        <span class="n">help</span><span class="o">=</span><span class="s2">&quot;Path to the ontology .ttl file.&quot;</span> 
    <span class="p">)</span>
    <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

    <span class="n">g</span> <span class="o">=</span> <span class="n">Graph</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Parsing file: </span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">ttl_file</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="n">g</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">ttl_file</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;turtle&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: The file &#39;</span><span class="si">{</span><span class="n">args</span><span class="o">.</span><span class="n">ttl_file</span><span class="si">}</span><span class="s2">&#39; was not found.&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: An error occurred while parsing the TTL file: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="n">leaf_nodes</span> <span class="o">=</span> <span class="n">_find_leaf_nodes</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">leaf_nodes</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No leaf nodes were found in the provided ontology.&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Leaf Node Analysis Complete ---&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> Leaf Nodes:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">leaf</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">leaf_nodes</span><span class="p">):</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">leaf</span><span class="o">.</span><span class="n">n3</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">namespace_manager</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Rishabh Kundu, Van Tran, Redad Mehdi.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>